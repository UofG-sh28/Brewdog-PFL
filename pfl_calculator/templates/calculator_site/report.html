{% extends 'calculator_site/base.html' %}
{% load static %}
{% block title %}
  Homepage
{% endblock %}

<!--{% block css %}{% endblock %}-->

{% block body_block %}
  <h2>Report Page</h2>
    <div class="results-summary" style="float: left; display: inline; width: 40%">
      <table>
        <tr>
          <th>Results Summary</th>
          <th>kg CO2e</th>
          <th>%</th>
        </tr>
        <tr>
          <td>Heating and Fuel</td>
          <td>8,327.2</td>
          <td>27.4%</td>
        </tr>
        <tr>
          <td>Electricity</td>
          <td>1,585.6</td>
          <td>5.2%</td>
        </tr>
        <tr>
          <td>Food Waste</td>
          <td>315.5</td>
          <td>1.0%</td>
        </tr>
        <tr>
          <td>Other Waste</td>
          <td>490.2</td>
          <td>1.6%</td>
        </tr>
        <tr>
          <td>Transport and Travel</td>
          <td>5,344.6</td>
          <td>17.6%</td>
        </tr>
        <tr>
          <td>Food and Drink</td>
          <td>12,918.3</td>
          <td>42.6%</td>
        </tr>
        <tr>
          <td>Operations and Maintenance</td>
          <td>1,371.5</td>
          <td>4.5%</td>
        </tr>
      </table>
    </div>
    <div id = "plot" style="height: 90%; float: right; aspect-ratio:1/1;"></div>
    
{% endblock %}
{% block script %}
  <script src="https://cdn.plot.ly/plotly-2.18.0.min.js"></script>
  <script src = "{% static 'JS/report-functions.js' %}"></script>
  <script>
    var data = {{json_data}};
    data = data.replace(/'/g, '"');
    var json_data = JSON.parse(data);
    plot_sunburst();
  </script>
{% endblock %}